{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const productApi = createApi({\n  reducerPath: \"api/orders\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://localhost:7197',\n    prepareHeaders: (headers, _ref) => {\n      let {\n        getState\n      } = _ref;\n      headers.set('Access-Control-Allow-Origin', '*');\n      return headers;\n    }\n  }),\n  endpoints: build => ({\n    getProducts: build.query({\n      // query:(count:number)=>`Orders/GetAllOrders`\n      query: page => ({\n        url: `api/orders?page=${page}`,\n        responseHandler: response => response.json()\n      })\n    }),\n    getString: build.query({\n      query: count => ({\n        url: `Orders/GetAllOrdersstring`,\n        responseHandler: response => response.text()\n      })\n    })\n  })\n}); // prepareHeaders(headers, {getState}) {\n//     headers.set('Access-Control-Allow-Origin', '*')\n//     return headers\n// },\n// export const productApi=createApi({\n//     reducerPath:\"api/orders\",\n//     baseQuery:fetchBaseQuery({baseUrl:'http://fakestoreapi.com/'}),\n//     endpoints:build=>({\n//         getProducts:build.query<IOrder[],number>({\n//             query:(count:number)=>`Orders?limit=${count}`,\n//         }),\n//     }),\n// })\n\nexport const {\n  useGetProductsQuery,\n  useGetStringQuery\n} = productApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","productApi","reducerPath","baseQuery","baseUrl","prepareHeaders","headers","getState","set","endpoints","build","getProducts","query","page","url","responseHandler","response","json","getString","count","text","useGetProductsQuery","useGetStringQuery"],"sources":["C:/Users/popov/vsprojs/react-app/src/store/order/order.api.ts"],"sourcesContent":["import { build } from \"@reduxjs/toolkit/dist/query/core/buildMiddleware/cacheLifecycle\"\r\nimport {BaseQueryFn, createApi, FetchArgs, fetchBaseQuery} from \"@reduxjs/toolkit/query/react\"\r\nimport { IOrder, IOrderResponse } from \"./order.type\"\r\n\r\n\r\nexport const productApi=createApi({\r\n    reducerPath:\"api/orders\",\r\n    baseQuery:fetchBaseQuery({baseUrl:'https://localhost:7197',prepareHeaders: (headers, { getState }) => {\r\n        headers.set('Access-Control-Allow-Origin', '*')\r\n        return headers\r\n    }}),\r\n    endpoints:build=>({\r\n        getProducts:build.query<IOrderResponse,number>({\r\n            // query:(count:number)=>`Orders/GetAllOrders`\r\n            query:(page:number)=>({\r\n                url:`api/orders?page=${page}`,\r\n                responseHandler:(response)=>response.json()\r\n            })\r\n        }),\r\n        getString:build.query<string,number>({\r\n            query:(count:number)=>({\r\n                url:`Orders/GetAllOrdersstring`,\r\n                responseHandler:(response)=>response.text()\r\n            })\r\n        }),\r\n    }\r\n    ),\r\n})\r\n\r\n\r\n\r\n// prepareHeaders(headers, {getState}) {\r\n//     headers.set('Access-Control-Allow-Origin', '*')\r\n//     return headers\r\n// },\r\n// export const productApi=createApi({\r\n//     reducerPath:\"api/orders\",\r\n//     baseQuery:fetchBaseQuery({baseUrl:'http://fakestoreapi.com/'}),\r\n//     endpoints:build=>({\r\n//         getProducts:build.query<IOrder[],number>({\r\n//             query:(count:number)=>`Orders?limit=${count}`,\r\n//         }),\r\n//     }),\r\n// })\r\n\r\n\r\nexport const {useGetProductsQuery,useGetStringQuery}=productApi"],"mappings":"AACA,SAAqBA,SAArB,EAA2CC,cAA3C,QAAgE,8BAAhE;AAIA,OAAO,MAAMC,UAAU,GAACF,SAAS,CAAC;EAC9BG,WAAW,EAAC,YADkB;EAE9BC,SAAS,EAACH,cAAc,CAAC;IAACI,OAAO,EAAC,wBAAT;IAAkCC,cAAc,EAAE,CAACC,OAAD,WAA2B;MAAA,IAAjB;QAAEC;MAAF,CAAiB;MAClGD,OAAO,CAACE,GAAR,CAAY,6BAAZ,EAA2C,GAA3C;MACA,OAAOF,OAAP;IACH;EAHwB,CAAD,CAFM;EAM9BG,SAAS,EAACC,KAAK,KAAG;IACdC,WAAW,EAACD,KAAK,CAACE,KAAN,CAAmC;MAC3C;MACAA,KAAK,EAAEC,IAAD,KAAgB;QAClBC,GAAG,EAAE,mBAAkBD,IAAK,EADV;QAElBE,eAAe,EAAEC,QAAD,IAAYA,QAAQ,CAACC,IAAT;MAFV,CAAhB;IAFqC,CAAnC,CADE;IAQdC,SAAS,EAACR,KAAK,CAACE,KAAN,CAA2B;MACjCA,KAAK,EAAEO,KAAD,KAAiB;QACnBL,GAAG,EAAE,2BADc;QAEnBC,eAAe,EAAEC,QAAD,IAAYA,QAAQ,CAACI,IAAT;MAFT,CAAjB;IAD2B,CAA3B;EARI,CAAH;AANe,CAAD,CAA1B,C,CA0BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAO,MAAM;EAACC,mBAAD;EAAqBC;AAArB,IAAwCrB,UAA9C"},"metadata":{},"sourceType":"module"}