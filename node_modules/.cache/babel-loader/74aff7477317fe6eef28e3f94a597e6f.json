{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  name: null,\n  token: null\n};\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUser: (state, action) => {\n      localStorage.setItem(\"user\", JSON.stringify({\n        name: action.payload.name,\n        token: action.payload.token\n      }));\n      state.name = action.payload.name;\n      state.token = action.payload.token;\n    },\n    logout: state => {\n      localStorage.clear();\n      state.name = null;\n      state.token = null;\n    }\n  }\n});\nexport const userReducer = userSlice.reducer;\nexport const userActions = userSlice.actions;","map":{"version":3,"names":["createSlice","initialState","name","token","userSlice","reducers","setUser","state","action","localStorage","setItem","JSON","stringify","payload","logout","clear","userReducer","reducer","userActions","actions"],"sources":["C:/Users/popov/vsprojs/react-app/src/store/auth/auth.slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { act } from \"react-dom/test-utils\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport interface AuthState{\r\n    name:string | null;\r\n    token:string | null;\r\n}\r\n\r\nconst initialState:AuthState={\r\n    name:null,\r\n    token:null\r\n}\r\nexport const userSlice=createSlice({\r\n    name:'user',\r\n    initialState,\r\n    reducers:{\r\n        setUser:(state,action:PayloadAction<{name:string,token:string}>)=>{\r\n            localStorage.setItem(\"user\",JSON.stringify({\r\n                name:action.payload.name,\r\n                token:action.payload.token\r\n            }))\r\n            state.name=action.payload.name;\r\n            state.token=action.payload.token;\r\n        },\r\n        logout:(state)=>{\r\n            localStorage.clear();\r\n            state.name=null;\r\n            state.token=null;\r\n        }\r\n    }\r\n})\r\n\r\n\r\nexport const userReducer=userSlice.reducer\r\nexport const userActions=userSlice.actions"],"mappings":"AAAA,SAASA,WAAT,QAA2C,kBAA3C;AASA,MAAMC,YAAsB,GAAC;EACzBC,IAAI,EAAC,IADoB;EAEzBC,KAAK,EAAC;AAFmB,CAA7B;AAIA,OAAO,MAAMC,SAAS,GAACJ,WAAW,CAAC;EAC/BE,IAAI,EAAC,MAD0B;EAE/BD,YAF+B;EAG/BI,QAAQ,EAAC;IACLC,OAAO,EAAC,CAACC,KAAD,EAAOC,MAAP,KAA0D;MAC9DC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAe;QACvCV,IAAI,EAACM,MAAM,CAACK,OAAP,CAAeX,IADmB;QAEvCC,KAAK,EAACK,MAAM,CAACK,OAAP,CAAeV;MAFkB,CAAf,CAA5B;MAIAI,KAAK,CAACL,IAAN,GAAWM,MAAM,CAACK,OAAP,CAAeX,IAA1B;MACAK,KAAK,CAACJ,KAAN,GAAYK,MAAM,CAACK,OAAP,CAAeV,KAA3B;IACH,CARI;IASLW,MAAM,EAAEP,KAAD,IAAS;MACZE,YAAY,CAACM,KAAb;MACAR,KAAK,CAACL,IAAN,GAAW,IAAX;MACAK,KAAK,CAACJ,KAAN,GAAY,IAAZ;IACH;EAbI;AAHsB,CAAD,CAA3B;AAqBP,OAAO,MAAMa,WAAW,GAACZ,SAAS,CAACa,OAA5B;AACP,OAAO,MAAMC,WAAW,GAACd,SAAS,CAACe,OAA5B"},"metadata":{},"sourceType":"module"}