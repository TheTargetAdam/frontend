{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  id: null,\n  name: null,\n  token: null\n};\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUser: (state, action) => {\n      localStorage.setItem(\"user\", JSON.stringify({\n        id: action.payload.id,\n        name: action.payload.name,\n        token: action.payload.token\n      }));\n      state.id = action.payload.id;\n      state.name = action.payload.name;\n      state.token = action.payload.token;\n    },\n    logout: state => {\n      localStorage.clear();\n      state.id = null;\n      state.name = null;\n      state.token = null;\n    }\n  }\n});\nexport const userReducer = userSlice.reducer;\nexport const userActions = userSlice.actions;","map":{"version":3,"names":["createSlice","initialState","id","name","token","userSlice","reducers","setUser","state","action","localStorage","setItem","JSON","stringify","payload","logout","clear","userReducer","reducer","userActions","actions"],"sources":["C:/Users/popov/vsprojs/react-app/src/store/auth/auth.slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { act } from \"react-dom/test-utils\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport interface AuthState{\r\n    id:number |null;\r\n    name:string | null;\r\n    token:string | null;\r\n}\r\n\r\nconst initialState:AuthState={\r\n    id:null,\r\n    name:null,\r\n    token:null\r\n}\r\nexport const userSlice=createSlice({\r\n    name:'user',\r\n    initialState,\r\n    reducers:{\r\n        setUser:(state,action:PayloadAction<{id:number,name:string,token:string}>)=>{\r\n            localStorage.setItem(\"user\",JSON.stringify({\r\n                id:action.payload.id,\r\n                name:action.payload.name,\r\n                token:action.payload.token\r\n            }))\r\n            state.id=action.payload.id;\r\n            state.name=action.payload.name;\r\n            state.token=action.payload.token;\r\n        },\r\n        logout:(state)=>{\r\n            localStorage.clear();\r\n            state.id=null;\r\n            state.name=null;\r\n            state.token=null;\r\n        }\r\n    }\r\n})\r\n\r\n\r\nexport const userReducer=userSlice.reducer\r\nexport const userActions=userSlice.actions"],"mappings":"AAAA,SAASA,WAAT,QAA2C,kBAA3C;AAUA,MAAMC,YAAsB,GAAC;EACzBC,EAAE,EAAC,IADsB;EAEzBC,IAAI,EAAC,IAFoB;EAGzBC,KAAK,EAAC;AAHmB,CAA7B;AAKA,OAAO,MAAMC,SAAS,GAACL,WAAW,CAAC;EAC/BG,IAAI,EAAC,MAD0B;EAE/BF,YAF+B;EAG/BK,QAAQ,EAAC;IACLC,OAAO,EAAC,CAACC,KAAD,EAAOC,MAAP,KAAoE;MACxEC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAe;QACvCX,EAAE,EAACO,MAAM,CAACK,OAAP,CAAeZ,EADqB;QAEvCC,IAAI,EAACM,MAAM,CAACK,OAAP,CAAeX,IAFmB;QAGvCC,KAAK,EAACK,MAAM,CAACK,OAAP,CAAeV;MAHkB,CAAf,CAA5B;MAKAI,KAAK,CAACN,EAAN,GAASO,MAAM,CAACK,OAAP,CAAeZ,EAAxB;MACAM,KAAK,CAACL,IAAN,GAAWM,MAAM,CAACK,OAAP,CAAeX,IAA1B;MACAK,KAAK,CAACJ,KAAN,GAAYK,MAAM,CAACK,OAAP,CAAeV,KAA3B;IACH,CAVI;IAWLW,MAAM,EAAEP,KAAD,IAAS;MACZE,YAAY,CAACM,KAAb;MACAR,KAAK,CAACN,EAAN,GAAS,IAAT;MACAM,KAAK,CAACL,IAAN,GAAW,IAAX;MACAK,KAAK,CAACJ,KAAN,GAAY,IAAZ;IACH;EAhBI;AAHsB,CAAD,CAA3B;AAwBP,OAAO,MAAMa,WAAW,GAACZ,SAAS,CAACa,OAA5B;AACP,OAAO,MAAMC,WAAW,GAACd,SAAS,CAACe,OAA5B"},"metadata":{},"sourceType":"module"}