{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\popov\\\\vsprojs\\\\react-app\\\\src\\\\components\\\\LoginForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport useActions from '../hooks/useActions';\nimport { useLoginUserMutation } from '../store/auth/auth.api';\nimport { NavLink } from 'react-router-dom';\nimport \"./LoginForm.css\";\nimport { useTypedSelector } from \"../hooks/useTypedSelector\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function LoginForm() {\n  _s();\n\n  const initialState = {\n    login: \"\",\n    password: \"\"\n  };\n  const navigate = useNavigate();\n  const [formValue, setFormValue] = useState(initialState);\n  const {\n    login,\n    password\n  } = formValue;\n  const [loginUser, {\n    data,\n    isSuccess,\n    isError,\n    error\n  }] = useLoginUserMutation();\n  const {\n    setUser\n  } = useActions();\n  const {\n    auth\n  } = useTypedSelector(state => state);\n  const [isSucess2, setisSucess2] = useState(false);\n\n  const handleLogin = async () => {\n    if (login && password) {\n      //await loginUser({login,password})\n      //console.log(data+ \" auth data\")\n      setisSucess2(prev => !prev);\n      setUser({\n        name: \"asd\",\n        token: \"qwerty\"\n      });\n      console.log(isSucess2);\n    } else {\n      toast.error(\"Fill all fields\");\n    }\n  };\n\n  const handleChange = e => {\n    console.log(formValue);\n    setFormValue({ ...formValue,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    console.log(formValue);\n  };\n\n  useEffect(() => {\n    if (isSucess2) {\n      console.log(\"true\");\n    }\n  }, [isSucess2]);\n\n  const handleClick = e => {};\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"credentials\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"login\",\n          id: \"login\",\n          className: \"form-control\",\n          name: \"login\",\n          value: login,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          className: \"form-control\",\n          name: \"password\",\n          value: password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"\\u0412\\u043E\\u0439\\u0442\\u0438\",\n          onClick: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addition-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/register\",\n          className: \"register-link\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"reg-href\",\n          children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClick,\n          children: \"Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"jU7XNBrY+XDvXrKzkG0CVrzM3t4=\", false, function () {\n  return [useNavigate, useLoginUserMutation, useActions, useTypedSelector];\n});\n\n_c = LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","toast","useActions","useLoginUserMutation","NavLink","useTypedSelector","LoginForm","initialState","login","password","navigate","formValue","setFormValue","loginUser","data","isSuccess","isError","error","setUser","auth","state","isSucess2","setisSucess2","handleLogin","prev","name","token","console","log","handleChange","e","target","value","handleSubmit","handleClick"],"sources":["C:/Users/popov/vsprojs/react-app/src/components/LoginForm.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link, Navigate, useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport useActions from '../hooks/useActions'\r\nimport { useLoginUserMutation } from '../store/auth/auth.api'\r\nimport { NavLink } from 'react-router-dom'\r\nimport \"./LoginForm.css\"\r\nimport { useTypedSelector } from \"../hooks/useTypedSelector\";\r\nexport function LoginForm() {\r\n  const initialState = {\r\n    login: \"\",\r\n    password: \"\",\r\n  }\r\n  const navigate=useNavigate();\r\n  const [formValue, setFormValue] = useState(initialState)\r\n  const { login, password } = formValue\r\n  const [loginUser,{data,isSuccess,isError,error}]=useLoginUserMutation();\r\n  const {setUser}=useActions();\r\n  const {auth}=useTypedSelector(state=>state);\r\n  const [isSucess2,setisSucess2]=useState(false);\r\n  const handleLogin=async ()=>{\r\n    if(login && password){\r\n        //await loginUser({login,password})\r\n        //console.log(data+ \" auth data\")\r\n        setisSucess2((prev)=>!prev)\r\n        setUser({name:\"asd\",token:\"qwerty\"})\r\n        \r\n        console.log(isSucess2)\r\n    }\r\n    else{\r\n      toast.error(\"Fill all fields\")\r\n    }\r\n  }\r\n\r\n  const handleChange=(e:any)=>{\r\n    console.log(formValue)\r\n    setFormValue({...formValue,[e.target.name]:e.target.value})\r\n  }\r\n  const handleSubmit=(e:any)=>{\r\n    console.log(formValue)\r\n  }\r\n  useEffect(()=>{\r\n    if(isSucess2){\r\n      console.log(\"true\")\r\n    }\r\n  },[isSucess2])\r\n  const handleClick=(e:any)=>{\r\n  }\r\n  return (\r\n    <div className='login-wrapper'>\r\n      <div className='login-form'>\r\n        <div className='credentials'>\r\n          <input type=\"login\"\r\n                  id='login'\r\n                  className='form-control'\r\n                  name=\"login\"\r\n                  value={login}\r\n                  onChange={handleChange}\r\n            >\r\n          </input>\r\n          <input type=\"password\"\r\n                  id='password'\r\n                  className='form-control'\r\n                  name=\"password\"\r\n                  value={password}\r\n                  onChange={handleChange}\r\n            >\r\n          </input>\r\n          <input type=\"submit\"\r\n                  value=\"Войти\"\r\n                  onClick={handleLogin}>\r\n                  \r\n          </input>\r\n        </div>\r\n        <div className='addition-buttons'>\r\n              <NavLink to=\"/register\" className=\"register-link\">Register</NavLink>\r\n              <a className=\"reg-href\" >Регистрация</a>\r\n              <button onClick={handleClick}>Click</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}