{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\popov\\\\vsprojs\\\\react-app\\\\src\\\\components\\\\LoginForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { useLoginUserMutation } from '../store/auth/auth.api';\nimport \"./LoginForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function LoginForm() {\n  _s();\n\n  const initialState = {\n    login: \"\",\n    password: \"\"\n  };\n  const navigate = useNavigate();\n  const [formValue, setFormValue] = useState(initialState);\n  const {\n    login,\n    password\n  } = formValue;\n  const [loginUser, {\n    data,\n    isSuccess,\n    isError,\n    error\n  }] = useLoginUserMutation();\n  var isSucess2 = false;\n\n  const handleLogin = async () => {\n    if (login && password) {\n      await loginUser({\n        login,\n        password\n      });\n      isSucess2 = true;\n      console.log(isSucess2);\n    } else {\n      toast.error(\"Fill all fields\");\n    }\n  };\n\n  useEffect(() => {\n    if (isSucess2) {\n      toast.success(\"Sucess\");\n      navigate(\"/allOrders\");\n    }\n  }, isSucess2);\n\n  const handleChange = e => {\n    console.log(formValue);\n    setFormValue({ ...formValue,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    console.log(formValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"credentials\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"login\",\n          id: \"login\",\n          className: \"form-control\",\n          name: \"login\",\n          value: login,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          className: \"form-control\",\n          name: \"password\",\n          value: password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"\\u0412\\u043E\\u0439\\u0442\\u0438\",\n          onClick: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addition-buttons\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"reg-href\",\n          children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"gUbrPYMzsdrozhs7GmVRqTNyYBA=\", false, function () {\n  return [useNavigate, useLoginUserMutation];\n});\n\n_c = LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","toast","useLoginUserMutation","LoginForm","initialState","login","password","navigate","formValue","setFormValue","loginUser","data","isSuccess","isError","error","isSucess2","handleLogin","console","log","success","handleChange","e","target","name","value","handleSubmit"],"sources":["C:/Users/popov/vsprojs/react-app/src/components/LoginForm.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Navigate, useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { useLoginUserMutation } from '../store/auth/auth.api'\r\nimport \"./LoginForm.css\"\r\nexport function LoginForm() {\r\n  const initialState = {\r\n    login: \"\",\r\n    password: \"\",\r\n  }\r\n  const navigate=useNavigate();\r\n  const [formValue, setFormValue] = useState(initialState)\r\n  const { login, password } = formValue\r\n  const [loginUser,{data,isSuccess,isError,error}]=useLoginUserMutation();\r\n  var isSucess2=false;\r\n  const handleLogin=async ()=>{\r\n    if(login && password){\r\n        await loginUser({login,password})\r\n        isSucess2=true\r\n        console.log(isSucess2)\r\n    }\r\n    else{\r\n      toast.error(\"Fill all fields\")\r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    if(isSucess2){\r\n      toast.success(\"Sucess\")\r\n      navigate(\"/allOrders\")\r\n    }\r\n  },isSucess2)\r\n  const handleChange=(e:any)=>{\r\n    console.log(formValue)\r\n    setFormValue({...formValue,[e.target.name]:e.target.value})\r\n  }\r\n  const handleSubmit=(e:any)=>{\r\n    console.log(formValue)\r\n  }\r\n  return (\r\n    <div className='login-wrapper'>\r\n      <div className='login-form'>\r\n        <div className='credentials'>\r\n          <input type=\"login\"\r\n                  id='login'\r\n                  className='form-control'\r\n                  name=\"login\"\r\n                  value={login}\r\n                  onChange={handleChange}\r\n            >\r\n          </input>\r\n          <input type=\"password\"\r\n                  id='password'\r\n                  className='form-control'\r\n                  name=\"password\"\r\n                  value={password}\r\n                  onChange={handleChange}\r\n            >\r\n          </input>\r\n          <input type=\"submit\"\r\n                  value=\"Войти\"\r\n                  onClick={handleLogin}>\r\n                  \r\n          </input>\r\n        </div>\r\n        <div className='addition-buttons'>\r\n              <a className=\"reg-href\" >Регистрация</a>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAmBC,WAAnB,QAAsC,kBAAtC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,oBAAT,QAAqC,wBAArC;AACA,OAAO,iBAAP;;AACA,OAAO,SAASC,SAAT,GAAqB;EAAA;;EAC1B,MAAMC,YAAY,GAAG;IACnBC,KAAK,EAAE,EADY;IAEnBC,QAAQ,EAAE;EAFS,CAArB;EAIA,MAAMC,QAAQ,GAACP,WAAW,EAA1B;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAACK,YAAD,CAA1C;EACA,MAAM;IAAEC,KAAF;IAASC;EAAT,IAAsBE,SAA5B;EACA,MAAM,CAACE,SAAD,EAAW;IAACC,IAAD;IAAMC,SAAN;IAAgBC,OAAhB;IAAwBC;EAAxB,CAAX,IAA2CZ,oBAAoB,EAArE;EACA,IAAIa,SAAS,GAAC,KAAd;;EACA,MAAMC,WAAW,GAAC,YAAU;IAC1B,IAAGX,KAAK,IAAIC,QAAZ,EAAqB;MACjB,MAAMI,SAAS,CAAC;QAACL,KAAD;QAAOC;MAAP,CAAD,CAAf;MACAS,SAAS,GAAC,IAAV;MACAE,OAAO,CAACC,GAAR,CAAYH,SAAZ;IACH,CAJD,MAKI;MACFd,KAAK,CAACa,KAAN,CAAY,iBAAZ;IACD;EACF,CATD;;EAUAhB,SAAS,CAAC,MAAI;IACZ,IAAGiB,SAAH,EAAa;MACXd,KAAK,CAACkB,OAAN,CAAc,QAAd;MACAZ,QAAQ,CAAC,YAAD,CAAR;IACD;EACF,CALQ,EAKPQ,SALO,CAAT;;EAMA,MAAMK,YAAY,GAAEC,CAAD,IAAS;IAC1BJ,OAAO,CAACC,GAAR,CAAYV,SAAZ;IACAC,YAAY,CAAC,EAAC,GAAGD,SAAJ;MAAc,CAACa,CAAC,CAACC,MAAF,CAASC,IAAV,GAAgBF,CAAC,CAACC,MAAF,CAASE;IAAvC,CAAD,CAAZ;EACD,CAHD;;EAIA,MAAMC,YAAY,GAAEJ,CAAD,IAAS;IAC1BJ,OAAO,CAACC,GAAR,CAAYV,SAAZ;EACD,CAFD;;EAGA,oBACE;IAAK,SAAS,EAAC,eAAf;IAAA,uBACE;MAAK,SAAS,EAAC,YAAf;MAAA,wBACE;QAAK,SAAS,EAAC,aAAf;QAAA,wBACE;UAAO,IAAI,EAAC,OAAZ;UACQ,EAAE,EAAC,OADX;UAEQ,SAAS,EAAC,cAFlB;UAGQ,IAAI,EAAC,OAHb;UAIQ,KAAK,EAAEH,KAJf;UAKQ,QAAQ,EAAEe;QALlB;UAAA;UAAA;UAAA;QAAA,QADF,eASE;UAAO,IAAI,EAAC,UAAZ;UACQ,EAAE,EAAC,UADX;UAEQ,SAAS,EAAC,cAFlB;UAGQ,IAAI,EAAC,UAHb;UAIQ,KAAK,EAAEd,QAJf;UAKQ,QAAQ,EAAEc;QALlB;UAAA;UAAA;UAAA;QAAA,QATF,eAiBE;UAAO,IAAI,EAAC,QAAZ;UACQ,KAAK,EAAC,gCADd;UAEQ,OAAO,EAAEJ;QAFjB;UAAA;UAAA;UAAA;QAAA,QAjBF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAwBE;QAAK,SAAS,EAAC,kBAAf;QAAA,uBACM;UAAG,SAAS,EAAC,UAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADN;QAAA;QAAA;QAAA;MAAA,QAxBF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAiCD;;GAlEeb,S;UAKCH,W,EAGkCE,oB;;;KARnCC,S"},"metadata":{},"sourceType":"module"}